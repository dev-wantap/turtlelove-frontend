# AnonHeart Frontend 요구사항 정리

## 1. 기능 요구사항 (UseCase 기반)

### 1.1 회원 관리

| UseCase ID | UseCase 명 | 설명 | 프론트엔드 요구사항 |
|------------|-----------|------|-------------------|
| **UC-01** | 회원가입 | `.ac.kr`, `.edu` 이메일로 본인 인증 후 PW, 닉네임, 성별 정보 입력 | - 이메일 입력 및 도메인 유효성 검사<br>- OTP 입력 폼 및 타이머(3분)<br>- 비밀번호, 닉네임, 성별 입력 폼<br>- 단계별 회원가입 UI |
| **UC-02** | 로그인 | 이메일(아이디)과 비밀번호로 로그인 | - 로그인 폼<br>- JWT 토큰 저장 및 관리<br>- 자동 로그인 연장 (Refresh Token) |
| **UC-03** | 로그아웃 | 현재 세션 종료 | - 로그아웃 버튼<br>- 토큰 삭제 및 상태 초기화 |
| **UC-04** | 내 정보 조회 | 마이페이지에서 내가 쓴 글, 댓글, 채팅 목록 확인 | - 마이페이지 탭 구조<br>- 내 글/댓글/채팅 목록 UI |

### 1.2 게시글 (상담 요청)

| UseCase ID | UseCase 명 | 설명 | 프론트엔드 요구사항 |
|------------|-----------|------|-------------------|
| **UC-05** | 게시글 목록 조회 | 카테고리별/정렬별 게시글 리스트 확인 | - 카테고리 필터<br>- 정렬 옵션 (최신/인기)<br>- 무한 스크롤 또는 페이지네이션 |
| **UC-06** | 게시글 상세 조회 | 특정 게시글의 내용과 댓글 확인 | - 게시글 상세 뷰<br>- 댓글 목록 표시<br>- 본인 글 수정/삭제 버튼 |
| **UC-07** | 게시글 작성 | 제목, 내용, 카테고리, 공개 범위 선택하여 등록 | - 게시글 작성 폼<br>- 공개 범위 설정 (대학 숨기기/성별 필터) |
| **UC-08** | 게시글 수정/삭제 | 본인이 작성한 게시글 수정 또는 삭제 | - 수정 폼 (기존 내용 프리필)<br>- 삭제 확인 모달 |

### 1.3 댓글 (답변)

| UseCase ID | UseCase 명 | 설명 | 프론트엔드 요구사항 |
|------------|-----------|------|-------------------|
| **UC-09** | 댓글 작성 | 게시글에 단일 계층 댓글 작성 | - 댓글 입력 폼<br>- AI 필터링 결과 표시 |
| **UC-10** | 댓글 삭제 | 본인이 작성한 댓글 삭제 | - 삭제 버튼 및 확인 모달 |

### 1.4 채팅

| UseCase ID | UseCase 명 | 설명 | 프론트엔드 요구사항 |
|------------|-----------|------|-------------------|
| **UC-11** | 채팅 요청 | 게시글 작성자가 댓글 작성자에게 1:1 대화 요청 | - 채팅 요청 버튼 (댓글 옆)<br>- 요청 확인 모달 |
| **UC-12** | 채팅 수락/거절 | 받은 채팅 요청을 수락하여 방 생성 또는 거절 | - 알림 UI<br>- 수락/거절 버튼 |
| **UC-13** | 메시지 송수신 | 매칭된 채팅방에서 실시간 메시지 주고받기 | - 실시간 채팅 UI<br>- STOMP/WebSocket 연동<br>- 메시지 전송/수신 표시 |
| **UC-14** | 채팅방 나가기 | 1:1 대화 종료 및 채팅방 목록에서 삭제 | - 나가기 버튼<br>- 확인 모달 |

---

## 2. 비기능 요구사항

### 2.1 성능

- **초기 로딩**: FCP(First Contentful Paint) 1.5초 이내
- **라우팅 전환**: 200ms 이내
- **API 응답 대기**: 스켈레톤 UI 또는 로딩 스피너 표시
- **이미지 최적화**: Lazy loading, WebP 포맷 지원
- **번들 최적화**: Code splitting, Tree shaking

### 2.2 보안

- **인증 토큰 관리**: Access Token은 메모리에, Refresh Token은 httpOnly 쿠키 또는 안전한 저장소
- **XSS 방지**: 사용자 입력 sanitization
- **CSRF 방지**: SameSite 쿠키 설정
- **민감 정보 보호**: 환경 변수로 API URL 관리

### 2.3 접근성 (a11y)

- **키보드 네비게이션**: 모든 인터랙티브 요소 키보드 접근 가능
- **스크린 리더 지원**: ARIA 레이블 적용
- **색상 대비**: WCAG 2.1 AA 기준 충족
- **포커스 관리**: 모달, 드롭다운 포커스 트랩

### 2.4 반응형 디자인

- **Mobile First**: 320px ~ 768px (모바일)
- **Tablet**: 768px ~ 1024px
- **Desktop**: 1024px 이상
- **터치 최적화**: 터치 타겟 최소 44px

---

## 3. 페이지별 요구사항

### 3.1 공통

- **헤더**: 로고, 네비게이션, 로그인/로그아웃 버튼
- **푸터**: 서비스 정보, 링크
- **토스트 알림**: 성공/에러 메시지 표시

### 3.2 인증 페이지

| 페이지 | 경로 | 주요 요소 |
|-------|------|----------|
| 로그인 | `/login` | 이메일 입력, 비밀번호 입력, 로그인 버튼, 회원가입 링크 |
| 회원가입 | `/signup` | Step 1: 이메일 인증<br>Step 2: OTP 확인<br>Step 3: 정보 입력 (PW, 닉네임, 성별) |

### 3.3 게시글 페이지

| 페이지 | 경로 | 주요 요소 |
|-------|------|----------|
| 게시글 목록 | `/posts` | 카테고리 탭, 정렬 드롭다운, 게시글 카드 리스트, 글쓰기 FAB |
| 게시글 상세 | `/posts/:id` | 제목, 본문, 작성일, 댓글 목록, 댓글 입력폼, 수정/삭제 버튼 |
| 게시글 작성 | `/posts/new` | 제목 입력, 본문 에디터, 카테고리 선택, 공개 범위 설정 |
| 게시글 수정 | `/posts/:id/edit` | 작성 폼과 동일 (기존 데이터 프리필) |

### 3.4 채팅 페이지

| 페이지 | 경로 | 주요 요소 |
|-------|------|----------|
| 채팅 목록 | `/chats` | 채팅방 리스트, 마지막 메시지, 안 읽은 메시지 배지 |
| 채팅방 | `/chats/:roomId` | 메시지 목록, 입력창, 상대방 정보, 연결된 게시글 정보 |

### 3.5 마이페이지

| 페이지 | 경로 | 주요 요소 |
|-------|------|----------|
| 마이페이지 | `/mypage` | 탭: 내 글, 내 댓글, 채팅<br>각 탭별 리스트 |

---

## 4. API 연동 요약

| 영역 | 주요 엔드포인트 |
|------|----------------|
| **인증** | `POST /auth/email/verify`, `POST /auth/email/confirm`, `POST /auth/signup`, `POST /auth/login`, `POST /auth/refresh`, `POST /auth/logout` |
| **게시글** | `GET /posts`, `GET /posts/:id`, `POST /posts`, `PUT /posts/:id`, `DELETE /posts/:id` |
| **댓글** | `POST /posts/:postId/comments`, `PUT /comments/:id`, `DELETE /comments/:id` |
| **채팅** | `POST /chats/rooms`, `GET /chats/rooms`, `GET /chats/rooms/:roomId/messages` |
| **마이페이지** | `GET /mypage/posts`, `GET /mypage/comments` |
